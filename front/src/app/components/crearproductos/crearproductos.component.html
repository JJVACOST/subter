<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#ModalCUProd" (click)="resetForm()">
    Crear Productos
  </button>

  <div class="modal fade bg-black"  id="ModalCUProd" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" data-bs-theme="dark">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5 text-center">{{tituloModal}}</h1>

          <button type="button" #btnCerrar class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="limpiarFormulario()"></button>
        </div>
        <div class="modal-body">
            <form [formGroup]="formularioProductos" (ngSubmit)="enviaform()">
                <div class="mb-3">
                  <label class="form-label">Producto</label>
                  <input type="text" class="form-control" formControlName="nombre" >
                  <div *ngIf="formularioProductos.get('nombre')!.hasError('required') && formularioProductos.get('nombre')!.touched" class="fw-bold text-danger">Ponga algo ðŸ‘Ž</div>
                  <div *ngIf="formularioProductos.get('nombre')!.hasError('pattern') && formularioProductos.get('nombre')!.touched" class="fw-bold text-danger">Pilas que es eso? ðŸ‘Ž</div>
                </div>
                <div class="mb-3">
                   <label class="form-label">descripcion</label>
                   <textarea class="form-control" placeholder="Escriba una descripcion" formControlName="descripcion"></textarea>
                   <div *ngIf="formularioProductos.get('descripcion')!.hasError('required') && formularioProductos.get('descripcion')!.touched" class="fw-bold text-danger">Ponga algo ðŸ‘Ž</div>
                   <div *ngIf="formularioProductos.get('descripcion')!.hasError('pattern') && formularioProductos.get('descripcion')!.touched" class="fw-bold text-danger">Pilas que es eso? ðŸ‘Ž</div>
                </div>
                <div class="mb-3">
                   <label class="form-label">precio</label>
                   <input type="number" class="form-control" formControlName="precio">
                   <div *ngIf="formularioProductos.get('precio')!.hasError('required') && formularioProductos.get('precio')!.touched" class="fw-bold text-danger">Ponga algo ðŸ‘Ž</div>
                   <div *ngIf="formularioProductos.get('precio')!.hasError('pattern') && formularioProductos.get('precio')!.touched" class="fw-bold text-danger">Pilas que es eso? ðŸ‘Ž</div>
                </div>
                <div class="mb-3">
                  <label class="form-label">urlImg</label>
                  <textarea class="form-control" placeholder="Indique la ruta de su imagen" formControlName="urlImg"></textarea>
                  <div *ngIf="formularioProductos.get('urlImg')!.hasError('required') && formularioProductos.get('urlImg')!.touched" class="fw-bold text-danger">Ponga algo ðŸ‘Ž</div>
                  <div *ngIf="formularioProductos.get('urlImg')!.hasError('pattern') && formularioProductos.get('urlImg')!.touched" class="fw-bold text-danger">Pilas que es eso? ðŸ‘Ž</div>
                </div>
                <div class="mb-3">
                    <label class="form-label">categoria</label>
                    <textarea class="form-control" placeholder="Agregue las catergorias" formControlName="categoria"></textarea>
                    <div *ngIf="formularioProductos.get('categoria')!.hasError('required') && formularioProductos.get('categoria')!.touched" class="fw-bold text-danger">Ponga algo ðŸ‘Ž</div>
                    <div *ngIf="formularioProductos.get('categoria')!.hasError('pattern') && formularioProductos.get('categoria')!.touched" class="fw-bold text-danger">Pilas que es eso? ðŸ‘Ž</div>
                </div>
                <div class="mb-3">
                    <label class="form-label">status</label>
                    <input type="text" class="form-control" formControlName="status" >
                    <div *ngIf="formularioProductos.get('status')!.hasError('required') && formularioProductos.get('status')!.touched" class="fw-bold text-danger">Ponga algo ðŸ‘Ž</div>
                    <div *ngIf="formularioProductos.get('status')!.hasError('pattern') && formularioProductos.get('status')!.touched" class="fw-bold text-danger">Pilas que es eso? ðŸ‘Ž</div>
                  </div>



                <button #btnSub type="submit" [disabled]="formularioProductos.invalid" class="btn btn-primary">{{buttonModal}}</button>
              </form>

              <div class="mb-3">
                <input type="hidden" class="form-control" #myid>
              </div>
        </div>
      </div>
    </div>
  </div>



<div class="mt-5" >
    <h2 class="text-center">Mis Productos</h2>
    <div class="table-responsive small">
      <table class="table table-striped table-sm">
        <thead>
          <tr>

            <th scope="col">Nombre</th>
            <th scope="col">Descripcion</th>
            <th scope="col">Precio</th>
            <th scope="col">Imagen</th>
            <th scope="col">Categoria</th>
            <th scope="col">Editar</th>
            <th scope="col">ver/ocultar</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let products of listaProductos">

            <td>{{ products.nombre }}</td>
            <td>{{ products.descripcion }}</td>
            <td>{{ products.precio }}</td>
            <td><img src="{{ products.urlImg }}" class="imgpreview" ></td>
            <td>{{ products.categoria }}</td>
            <td><button type="button" class="btn btn-warning" (click)="buscarproduct(products._id)" data-bs-toggle="modal" data-bs-target="#ModalCUProd"><i class="fa-regular fa-pen-to-square"></i></button></td>
            <td>
                <button type="button" class="btn btn-success" (click)="actualizarStatus(products._id)">
                    <i *ngIf="products.status == 'Activo'" class="fa-regular fa-eye" style="color: rgb(255, 255, 255);"></i>
                    <i *ngIf="products.status == 'Inactivo'" class="fa-regular fa-eye-slash" style="color: rgb(0, 0, 0);"></i>
                </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>


</div>


